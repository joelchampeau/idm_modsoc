LeafFunctionRole plays: AtomicDevsRole

CommunicationLinkRole plays: AtomicDevsRole .

AtomicDevsRole linkedToKind: LeafFunctionRole withInterpreter: #AdaptLeafFunction.

AtomicDevsRole linkedToKind: CommunicationLinkRole withInterpreter: #AdaptComLink.

AtomicDevsRole plays: SenderRole underCondition: [ :adr | adr isSender ].

AtomicDevsRole plays: ReceiverRole underCondition: [ :adr | adr isReceiver ]. 

ConnectionRole containsAll: {SenderRole. ReceiverRole.}

DevsNetworkRole containsAll: (AtomicDevsRole retrieveInstances collect: [ :adr | adr playerId ])

(DevsNetworkRole retrieveInstanceId: 'DevsNetworkRole0') networkName: 'MeDON'.

((SenderRole retrieveLinkedToKind: AtomicDevsRole ) select: [ :sr | 
	(sr player isSender) and: [ sr player player isKindOf: LeafFunctionRole ].	
]) do: [ :sr | sr interpretWith: #AdaptLFAsSender  ].

((ReceiverRole retrieveLinkedToKind: AtomicDevsRole ) select: [ :sr | 
	(sr player isReceiver) and: [ sr player player isKindOf: LeafFunctionRole ].	
]) do: [ :sr | sr interpretWith: #AdaptLFAsReceiver  ].

((ReceiverRole retrieveLinkedToKind: AtomicDevsRole ) select: [ :sr | 
	(sr player isReceiver) and: [ sr player player isKindOf: CommunicationLinkRole  ].	
]) do: [ :sr | sr interpretWith: #AdaptCLAsReceiver  ].

((SenderRole retrieveLinkedToKind: AtomicDevsRole ) select: [ :sr | 
	(sr player isSender) and: [ sr player player isKindOf: CommunicationLinkRole  ].	
]) do: [ :sr | sr interpretWith: #AdaptCLAsSender  ].

OmnetppCodeGenerator generateCodeForSimulation: (OmnetppVisitor visit: (DevsNetworkRole retrieveInstances )).

PolymorphSystemSettings setDesktopLogoWith:  (ImageMorph withForm: (ImageReadWriter formFromFileNamed: '/Users/mariano/PhD/Marea/Fuel/fuel kit logos/logo-fuel-header-title.png')).